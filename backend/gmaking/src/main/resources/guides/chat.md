---
title: AI 채팅
category: 대화
tags: [AI채팅, Gemini, GPT, 페르소나, 롱메모리, 대화기억]
updated: 2025-10-26
app_url: http://localhost:3000/chat-entry
doc_url: /guide/chat
guide_key: chat
visibility: public
---

# AI 채팅 개요

- 사용자는 자신의 **캐릭터와 실시간 대화**를 나눌 수 있다.
- 캐릭터는 고유한 성격과 세계관을 지닌 **페르소나(Persona)** 로 동작한다.
- 채팅은 **Gemini-2.0-flash** 모델을 중심으로, 필요 시 **GPT-4o-mini**가 보조로 사용된다.

---

## 채팅 구조

| 구성요소 | 설명 |
|-----------|------|
| 히스토리 | 현재 세션의 대화 로그 |
| 중기 기억 | 요약된 최근 대화 내용 |
| 롱메모리 | 장기적으로 유지되는 캐릭터의 기억 |
| 프롬프트 | 히스토리 + 중기 + 롱메모리 + 사용자 입력 |

이 구조를 통해 캐릭터는 이전 대화 맥락을 이해하고 자연스러운 응답을 생성한다.

---

## 대화 주기 및 초기화

- 매일 자정마다 모든 채팅방의 **대화 로그가 초기화**된다.
- 자정 전에 AI가 자동으로 대화 내용을 요약하고 핵심만 롱메모리에 저장한다.
- 요약은 Gemini-2.0-mini 또는 GPT-4o-mini를 통해 수행된다.
- 사용자가 자정 이후에도 채팅 중이면(OPEN 상태), 초기화는 다음 재입장 시점에 진행된다.

---

## 대화 기억 방식

1. 대화가 일정 길이를 초과하면 자동으로 요약이 발생한다.  
2. AI가 요약문을 작성해 중기 기억에 반영한다.  
3. AI가 요약 중 중요 키워드를 추출해 롱메모리에 추가한다.  
   - 좋아하는 것 / 싫어하는 것 / 일정 / 사용자명 / 호칭 등  
4. 롱메모리는 장기적으로 누적 저장되어 캐릭터의 성격과 관계 형성에 영향을 준다.

---

## FAQ

**Q. 캐릭터가 이전 대화를 기억하나요?**  
A. 네. 요약된 내용이 롱메모리와 대화요약 테이블에 저장되어 다음 대화에서 반영됩니다.

**Q. 자정에 대화가 사라지는 이유는?**  
A. 시스템이 모든 대화를 요약 및 정리해 캐릭터의 장기 기억으로 통합하기 때문입니다.

**Q. 대화 중간에 모델이 바뀌는 이유는?**  
A. 상황에 따라 GPT-4o-mini가 보조로 투입되어 더 자연스럽고 맥락적인 답변을 제공합니다.
