---
title: 상점 시스템
category: 상점
tags: [상점, 아이템, 부화권, 광고제거권, 인벤토리, 구매]
updated: 2025-10-26
app_url: http://localhost:3000/shop
doc_url: /guide/shop
guide_key: shop
visibility: public
---

# 상점 개요

- 상점은 사용자가 **게임 내 아이템을 구매**할 수 있는 공간이다.  
- 겜만중의 상점에서는 주로 **부화권(캐릭터 생성권)** 과 **광고 제거권**을 판매한다.  
- 결제 후 아이템은 즉시 인벤토리에 반영된다.  
- 구매 내역은 사용자 계정과 연결되어 관리된다.

---

## 주요 아이템

### 🥚 부화권 (Incubator Ticket)
- 캐릭터 생성에 필요한 필수 아이템이다.  
- **무료 부화권**과 **유료 부화권**이 존재한다.  
- 무료 부화권은 매일 **오전 6시**에 1개 자동 지급된다.  
- 무료 부화권은 최대 **1개까지만 보유 가능**하다.  
- 부화권은 캐릭터 생성 시 **즉시 1개 차감**된다.  
- 생성 버튼 클릭 즉시 차감되며, 취소하더라도 복구되지 않는다.  
- 유료 부화권은 상점에서 구매 후 인벤토리에 즉시 반영된다.  

> 💡 **주의:** 부화권은 소비성 아이템이며, 환불이 불가하다.

---

### 🚫 광고 제거권 (Ad-Free Pass)
- 사이트 이용 중 노출되는 광고를 **30일간 제거**한다.  
- 구매 즉시 적용되며, 남은 기간은 마이페이지에서 확인 가능하다.  
- 기간 내 추가 구매 시 남은 기간에 **30일이 더해진다.**  
- 광고 제거권은 계정 단위로 적용된다.  
- 만료일이 도래하면 자동으로 광고가 다시 표시된다.

---

## 구매 절차

1. 상점 페이지 접속 (`/shop`)  
2. 아이템 선택 (부화권 / 광고 제거권)  
3. 결제 수단 선택 (PG 연동)  
4. 결제 완료 시:
   - 구매 정보가 **TB_PURCHASE** 테이블에 기록된다.  
   - 아이템이 **TB_USER_INVENTORY** 에 즉시 추가된다.  
5. 구매 성공 시 UI에 “구매 완료” 알림 표시.

---

## 인벤토리 반영 로직

| 이벤트 | 처리 결과 |
|---------|------------|
| 부화권 구매 | `user_inventory.incubator_count` +1 |
| 광고 제거권 구매 | `user_inventory.ad_free_expire_date` 갱신 |
| 구매 실패 | DB 기록 없음, 재시도 가능 |

---

## 에러 및 예외 처리

- 결제 중 취소 시: **구매가 완료되지 않음**  
- 동일 아이템 중복 클릭 시: 서버에서 중복 요청 차단  
- 결제 서버 오류 시: 사용자에게 오류 알림 및 재시도 버튼 표시  

---

## FAQ

**Q. 부화권은 무료로 계속 받을 수 있나요?**  
A. 하루 1개씩 자동 지급되며, 최대 1개까지만 보유 가능합니다.

**Q. 광고 제거권은 중복 구매 가능한가요?**  
A. 가능합니다. 남은 기간에 30일이 추가로 더해집니다.

**Q. 구매 후 바로 적용되나요?**  
A. 네. 결제 완료 직후 인벤토리에 즉시 반영됩니다.

**Q. 결제 취소나 환불은 가능한가요?**  
A. 일반적으로 불가능하지만, 결제 오류나 시스템 문제 시 고객센터를 통해 문의할 수 있습니다.

---

## 관련 문서

- [캐릭터 생성 가이드](/guide/character/create)  
- [마이페이지 안내](/guide/mypage)
